<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:py="http://genshi.edgewall.org/"
	xmlns:xi="http://www.w3.org/2001/XInclude">

<xi:include href="master.html" />

<head>
    <link rel="stylesheet" type="text/css" href="../css/upload.css" />
    <title>NIMS Upload</title>

    <!-- Force latest IE rendering engine or ChromeFrame if installed -->
    <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->

    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" py:if="False" />

    <script type="text/javascript">
        // Check for the various File API support.
        if (!window.File || !window.FileReader || !window.FileList || !window.Blob) {
            alert('The File APIs are not fully supported in this browser.');
        }
    </script>

    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
</head>
<body>
    <div id='bannerjs'>
        <div class='hide' id="bannerjs-emptyfields">
        </div>
    </div>
    <h2>Upload</h2>
    <form action="upload/submit" method="POST" enctype="multipart/form-data">
        <table id='table_form'>
            <tr>
                Fill in the form and select the files to upload.
            </tr>
            <tr>
                <td>
                    <div id='group_select'>Group
                        <select id='group_value' name='group'>
                            <option value=''></option>
                            <option py:for="group in research_groups" >${group}</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div id='experiment_input'>Experiment
                        <input type="text" id="experiment" name="experiment"></input>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="file" id="files" name="files[]" multiple="multiple" />
                </td>
                <td></td>
            </tr>
       </table>

        <div id="drop_zone" name='drop_files'>Drop files for upload</div>
        <output id="list"></output>

        <table>
            <thead id='file_list_header' class='hide'>
                <tr>
                    <th></th>
                    <th>File name</th>
                    <th>Type</th>
                    <th>Size (bytes)</th>
                    <th>Last Modified</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id='file_list'>
            </tbody>
        </table>
        <spam id='fileContents'>

        </spam>
        <div>
            <input id="submit_form" type='submit' value="Submit"></input>
            <!-- <input id="clear_form" type='button' value="Clear all"></input> -->
            <input id="clear_form" type='reset' value='Clear Fields'></input>
        </div>
    </form>


    <pre id="result_error" class='hide'></pre>
    <pre id="result_ok" class='hide'></pre>
    <script src="${tg.url('/javascript/upload.js')}"></script>
</body>
</html>

